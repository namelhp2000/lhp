@{
    ViewBag.Title = "SerialNumber";
}

<div id="text_attr">
    <table cellpadding="0" cellspacing="1" border="0" width="100%" class="formtable">
        <tr>
            <th style="width:120px;">绑定字段：</th>
            <td>
                <select class="myselect2" id="bindfiled" style="width:290px"></select>
            </td>
        </tr>
        <tr>
            <th>格式：</th>
            <td>
                <input type="text" id="formatstring" class="mytext" style="width:95%" />
            </td>
        </tr>
        <tr>
            <th>位数：</th>
            <td>
                <input type="text" id="length" class="mytext" style="width:150px" />
            </td>
        </tr>
        <tr>
            <th>保存当前编号字段：</th>
            <td>
                <select class="myselect2" id="maxfiled" style="width:290px"></select>
            </td>
        </tr>
        <tr>
            <th>宽度：</th>
            <td>
                <input type="text" id="width" class="mytext" style="width:150px" />
            </td>
        </tr>
        <tr>
            <th>背景文字：</th>
            <td>
                <input type="text" id="placeholdertext" class="mytext" style="width:95%" />
            </td>
        </tr>
        <tr>
            <th>SQL条件：</th>
            <td>

                <textarea id="sqlwhere" class="mytextarea" style="width:95%;height:70px;"></textarea>
            </td>
        </tr>
        <tr>
            <th>说明：</th>
            <td>
                <textarea style="width:95%;height:60px; padding-top: 5px; border:none; color: #666;">1、格式示例：ROAD-{Date<yyyyMMdd>}-{SerialNumber}-ABC，{Date<yyyyMMdd>
    }为取当前日期通配符，{SerialNumber}为当前序列号，生成后编号：ROAD-20180525-0001-ABC
    2、绑定字段与保存当前编号字段是分开的，同时一定设置当前编号绑定字段，才能生效
    3、sql条件：取最大编号的SQL条件，对应当前表单的主表，例：where year(writetime)=year(getdate())，则是按年来编号，当翻年时编号又从1开始。
    4、DATEPART(datepart,date)date 参数是合法的日期表达式。datepart 参数可以是下列的值: datepart 缩写
    年： yy, yyyy   季度： qq, q  月： mm, m  年中的日： dy, y  日： dd, d  
    周： wk, ww   星期： dw, w   小时： hh  分钟： mi, n  秒： ss, s  毫秒： ms  微妙： mcs  纳秒： ns
</textarea>
            </td>
        </tr>
    </table>
</div>
<script type="text/javascript">
    function initSelect2() {
        //绑定字段的初始化
        new RoadUI.Select().init2($("#bindfiled"));
    }
</script>